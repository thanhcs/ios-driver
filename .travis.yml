language: objective-c

jdk:
    - oraclejdk8


before_script:

- sudo chmod -R 666 /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator*.sdk/Applications/MobileSafari.app/Info.plist
- sudo /usr/sbin/DevToolsSecurity --enable
- sudo dscl . append /Groups/_developer GroupMembership travis
- java -version
- JAVA_HOME=/usr/lib/jvm/java-8-oracle
- jdk_switcher use oraclejdk8
- java -version
- sudo mkdir /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/exiledSDKs 
- sudo chmod -R a+rw /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/exiledSDKs
- sudo chmod 666 /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator*.sdk/Applications/MobileSafari.app/Info.plist
script: mvn test

env:
    global:
        secure: "DQoj2VT7Bc0apMrVi2N8GkqPGT2lUcfNyuya1iQ4OsXX6iWSmGPWJYylMfnLLI42DxeT55L/hoVWBwzIEcAG3IwR7G+H4JigyNtZL6uCo8Za6Oby2RzypLwiVoSnv0sQPRm6X6Yk6gLv5swz6kwng+ujClAbWPnNaRRUNoKz6YQ="
        - JAVA_HOME=/usr/lib/jvm/java-8-oracle
